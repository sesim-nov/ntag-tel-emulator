#include "ntag_tools.h"
#include <lib/nfc/helpers/nfc_generators.h>

const NfcGenerator* const* get_ntag_generator() {
    const NfcGenerator* const* gen = nfc_generators;
    for (; gen != NULL; ++gen) {
        if (!strcmp((*gen)->name,"NTAG213")) {
            break;
        }
    }
    FURI_LOG_D("NtagTelEmulator", "Name: %s", (*gen)->name);
    return gen;
}

void ntag_213_init_blank_tag(NfcDevice* nfc) {
    nfc->format = NfcDeviceSaveFormatMifareUl;

    const NfcGenerator* const* gen = get_ntag_generator();
    furi_assert(gen);
    (*gen)->generator_func(&nfc->dev_data);
}
//    uint8_t new_data[] = {
//                           0x04, 0x30, 0xD2, 0x6E,
//                           0xEB, 0xA1, 0x47, 0x88,
//                           0x85, 0x48, 0x00, 0x00,
//                           0xE1, 0x10, 0x12, 0x00,
//                           0x03, 0x0f, 0xd1, 0x01,
//                           0x0b, 0x55, 0x05, 0x35,
//                           0x35, 0x35, 0x38, 0x36,
//                           0x37, 0x35, 0x33, 0x30,
//                           0x39, 0xfe, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0x00,
//                           0x00, 0x00, 0x00, 0xBD,
//                           0x04, 0x00, 0x00, 0xFF,
//                           0x00, 0x05, 0x00, 0x00,
//                           0xFF, 0xFF, 0xFF, 0xFF,
//                           0x00, 0x00, 0x00, 0x00
//                           };
